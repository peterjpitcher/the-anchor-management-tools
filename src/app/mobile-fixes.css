/* Mobile Layout Fixes for Anchor Management Tools */
/* Apply these fixes to resolve layout overflow issues on mobile devices */

/* ===============================================
   CRITICAL FIXES - Header & Navigation
   =============================================== */

/* Fix header overflow and excessive height */
.bg-sidebar {
  @media (max-width: 640px) {
    padding-top: 1.5rem !important; /* Reduce from 2.5rem (40px) to 1.5rem (24px) */
    padding-bottom: 1rem !important; /* Reduce from 1.5rem to 1rem */
  }
}

/* Fix PageHeader component spacing on mobile */
.bg-sidebar > div:first-child {
  @media (max-width: 640px) {
    padding-top: 1.5rem !important; /* pt-6 instead of pt-10 */
    padding-bottom: 1rem !important; /* pb-4 instead of pb-6 */
    padding-left: 1rem !important; /* px-4 instead of px-6 */
    padding-right: 1rem !important;
  }
}

/* Fix header text sizing on mobile */
.bg-sidebar h1 {
  @media (max-width: 640px) {
    font-size: 1.5rem !important; /* text-2xl instead of text-3xl */
    line-height: 2rem !important;
  }
}

/* Fix bottom navigation safe area */
.bottom-navigation,
nav[aria-label="Mobile navigation"] {
  padding-bottom: env(safe-area-inset-bottom, 0);
  padding-bottom: constant(safe-area-inset-bottom, 0); /* iOS < 11.2 */
}

/* ===============================================
   HIGH PRIORITY - Touch Targets & Spacing
   =============================================== */

/* Ensure all buttons meet 48px touch target */
button,
.btn,
a[role="button"],
[role="button"] {
  @media (max-width: 768px) {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Fix button spacing in groups */
.flex.gap-2 > button,
.flex.gap-2 > a {
  @media (max-width: 640px) {
    margin: 0 4px;
  }
}

/* Fix "View all" buttons on dashboard */
.view-all-btn,
button:contains("View all") {
  @media (max-width: 640px) {
    min-height: 44px;
    padding: 8px 16px;
  }
}

/* ===============================================
   PAGE-SPECIFIC FIXES
   =============================================== */

/* CUSTOMERS PAGE - Fix tab overflow */
.customers-tabs,
[role="tablist"] {
  @media (max-width: 640px) {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
  }
}

.customers-tabs::-webkit-scrollbar {
  display: none;
}

/* Fix tab button sizing */
[role="tab"] {
  @media (max-width: 640px) {
    white-space: nowrap;
    flex-shrink: 0;
    padding: 8px 12px;
    min-height: 44px;
  }
}

/* EVENTS PAGE - Fix card spacing */
.event-card {
  @media (max-width: 640px) {
    padding: 12px;
    margin-bottom: 8px;
  }
}

/* Fix action buttons spacing */
.event-actions {
  @media (max-width: 640px) {
    gap: 8px;
  }
}

/* EMPLOYEES PAGE - Fix dropdown alignment */
.birthdays-dropdown,
select {
  @media (max-width: 640px) {
    padding-right: 32px; /* Space for dropdown arrow */
    min-height: 44px;
  }
}

/* Fix email overflow */
.employee-email {
  @media (max-width: 640px) {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    max-width: calc(100vw - 120px);
  }
}

/* FORMS - Add proper padding */
form input,
form select,
form textarea {
  @media (max-width: 640px) {
    width: calc(100% - 32px);
    margin-left: 16px;
    margin-right: 16px;
    min-height: 44px;
  }
}

/* Fix form labels */
form label {
  @media (max-width: 640px) {
    padding-left: 16px;
    padding-right: 16px;
  }
}

/* MESSAGES PAGE - Improve empty state */
.empty-state {
  @media (max-width: 640px) {
    padding: 32px 16px;
  }
}

/* ===============================================
   GLOBAL MOBILE OPTIMIZATIONS
   =============================================== */

/* Prevent horizontal scroll */
body {
  overflow-x: hidden;
}

.main-content,
main {
  @media (max-width: 640px) {
    width: 100%;
    max-width: 100vw;
    overflow-x: hidden;
  }
}

/* Add consistent edge padding */
.page-content,
.container {
  @media (max-width: 640px) {
    padding-left: 16px;
    padding-right: 16px;
  }
}

/* Fix card layouts on mobile */
.card,
.bg-white.rounded-lg {
  @media (max-width: 640px) {
    margin-left: 0;
    margin-right: 0;
    border-radius: 8px;
  }
}

/* Improve text readability */
p,
.text-sm {
  @media (max-width: 640px) {
    line-height: 1.6;
  }
}

/* Fix truncated text */
.truncate {
  @media (max-width: 640px) {
    max-width: 100%;
  }
}

/* ===============================================
   UTILITY CLASSES
   =============================================== */

/* Mobile-only utilities */
@media (max-width: 640px) {
  .mobile-hidden {
    display: none !important;
  }
  
  .mobile-block {
    display: block !important;
  }
  
  .mobile-padding {
    padding: 16px !important;
  }
  
  .mobile-margin {
    margin: 16px !important;
  }
  
  .mobile-full-width {
    width: 100% !important;
  }
  
  .mobile-scroll-x {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
}

/* ===============================================
   PERFORMANCE OPTIMIZATIONS
   =============================================== */

/* Reduce animations on mobile for better performance */
@media (max-width: 640px) and (prefers-reduced-motion: no-preference) {
  * {
    animation-duration: 0.2s !important;
    transition-duration: 0.2s !important;
  }
}

/* Remove shadows on mobile for performance */
@media (max-width: 640px) {
  .shadow-lg {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
  }
  
  .shadow-xl {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
  }
}

/* ===============================================
   ACCESSIBILITY IMPROVEMENTS
   =============================================== */

/* Improve focus indicators on mobile */
@media (max-width: 640px) {
  :focus-visible {
    outline: 3px solid #10b981;
    outline-offset: 2px;
  }
}

/* Ensure proper contrast for small text */
.text-xs,
.text-sm {
  @media (max-width: 640px) {
    color: #374151; /* Darker gray for better contrast */
  }
}